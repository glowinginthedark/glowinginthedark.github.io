<!DOCTYPE html>
<html>
<head>
	<title>glowinginthedark</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="css/say_hello.css">
	<link href="./css/fa/all.css" rel="stylesheet">
</head>
<body>

	<img id="bg_img" src="images/wall.jpg" />

	<div id="nav_menu_button"><p>menu</p></div>
	<header>
		<nav>
			<ul>
				<li><a href="index.html">Home</a></li>
				<li style="display: flex; flex-direction: column; margin-top: -5.5px;">
					<a href="portfolio.html">Portfolio and work</a>
					<small style="width: 100%; text-align: center; font-size: 15px; font-weight: bold; color: rgb(248, 106, 248);">â†‘ updated! â†‘</small>
				</li>
				<li><a href="https://www.github.com/glowinginthedark" target="_blank">Github  <i class="fas fa-external-link-alt"></i> </a></li>
				<li><a href="say_hello.html">ðŸ’¬ Say hello!</a></li>
			</ul>
		</nav>
	</header>

    <main>
        <!-- <div class="save_text_checkbox">
            <input type="checkbox"/>
            <label>hello</label>
        </div> -->
        <textarea oninput="auto_grow(this)"></textarea>
        <a class="send_button" href="#" onclick="post_msg()">Send <i class="far fa-paper-plane"></i></a>
	</main>

</body>

    <script type="text/javascript" src="main.js"></script>
	<script type="text/javascript">
		let textarea = document.getElementsByTagName('textarea')[0];
		async function post_msg() {
			const rawResponse = await fetch('http://165.227.61.172:5000/post-test', {
				method: 'POST',
				headers: {
				'Accept': 'application/json',
				'Content-Type': 'application/json'
				},
				body: JSON.stringify({ msg: textarea.value })
			});
			const content = await rawResponse.json();

			console.log(content);
		}
        function auto_grow(element) {
            element.style.height = "5px";
            element.style.height = (element.scrollHeight)+"px";
        }
        window.addEventListener('DOMContentLoaded', () => {
            let textarea = document.getElementsByTagName('textarea')[0];
            textarea.focus();
            textarea.value = `Dear Bilal, `;
            auto_grow(textarea);
        });
        </script>

</html>